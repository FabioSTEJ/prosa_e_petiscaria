{% extends "base_admin.html" %}

{% block content %}
<div class="container-mobile" style="padding: 20px;">
    <div class="header-garcom" style="margin-bottom: 25px; text-align: center;">
        <i class="fas fa- ut-utensils" style="font-size: 3rem; color: #3498db; margin-bottom: 15px;"></i>
        <h2 style="margin: 0;">Abrir Mesa {{ mesa.numero }}</h2>
        <p style="color: #666;">Inicie um novo atendimento para esta mesa.</p>
    </div>

    <div class="card" style="background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden;">
        <div style="background: #3498db; color: white; padding: 15px; text-align: center;">
            <h5 style="margin: 0;"><i class="fas fa-check-circle"></i> Confirmação de Abertura</h5>
        </div>
        
        <div style="padding: 30px; text-align: center;">
            <p style="font-size: 1.1rem; color: #2c3e50; margin-bottom: 25px;">
                Deseja confirmar a abertura da <strong>Mesa {{ mesa.numero }}</strong>?
            </p>

            {# CORREÇÃO AQUI: Adicionado o prefixo 'garcom.' no endpoint #}
            <form action="{{ url_for('garcom.abrir_mesa', mesa_id=mesa.id) }}" method="POST">
                <button type="submit" style="
                    width: 100%; 
                    padding: 15px; 
                    background-color: #2ecc71; 
                    color: white; 
                    border: none; 
                    border-radius: 8px; 
                    font-size: 1.1rem; 
                    font-weight: bold; 
                    cursor: pointer;
                    margin-bottom: 15px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 10px;
                ">
                    <i class="fas fa-play"></i> Confirmar e Abrir
                </button>
            </form>

            <a href="{{ url_for('garcom.painel_garcom') }}" style="
                display: block;
                text-decoration: none;
                color: #95a5a6;
                font-weight: 500;
                padding: 10px;
            ">
                <i class="fas fa-times"></i> Cancelar e Voltar
            </a>
        </div>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: 8px; color: #34495e; font-size: 0.9rem;">
        <i class="fas fa-info-circle"></i> Após abrir a mesa, o status mudará para <strong>Ocupada</strong> e você poderá lançar pedidos.
    </div>
</div>
{% endblock %}